window.Rainbow&&(window.Rainbow.linenumbers=function(a){this.splitLines=function(a){for(var b=[[]],c=a.childNodes,d=0;d<c.length;d++){var e=c[d],f=[],g=b[b.length-1];if(3===e.nodeType)f=e.nodeValue.split("\n");else for(var h=e.innerHTML.split("\n"),i=0;i<h.length;i++){var j=e.cloneNode();j.innerHTML=h[i],f.push(j.outerHTML)}g.push(f[0]||"&#8203;");for(var k=0;k<f.length-1;k++)b.push([f[k+1]||"&#8203;"])}return b},a.onHighlight(function(a){if(a&&a.parentNode){var b=document.createElement("table");b.className="rainbow",b.setAttribute("data-language",a.getAttribute("data-language"));for(var c=this.splitLines(a),d=0;d<c.length;d++){var e=c[d],f=d+1,g=b.insertRow(-1);g.className="line line-"+f;var h=g.insertCell(-1);h.className="line-number",h.setAttribute("data-line-number",f);var i=g.insertCell(-1);i.className="line-code",i.innerHTML=e.join("")}var j="PRE"===a.nodeName?a:a.parentNode;j.innerHTML="",j.appendChild(b)}})}(window.Rainbow));