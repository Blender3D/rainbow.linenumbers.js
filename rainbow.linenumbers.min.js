window.Rainbow&&(window.Rainbow.linenumbers=function(e){function n(e){if(3===e.nodeType)return e.nodeValue.split("\n");for(var n=e.innerHTML.split("\n"),t=[],a=0;a<n.length;a++)if(""===n[a])t.push("");else{var r=e.cloneNode(!0);r.innerHTML=n[a];var i=document.createElement("div");i.appendChild(r.cloneNode(!0)),t.push(i.innerHTML)}return t}function t(e){for(var t=[""],a=0;a<e.childNodes.length;a++){var r=n(e.childNodes[a]);t[t.length-1]+=r[0];for(var i=1;i<r.length;i++)t.push(r[i])}return t}e.onHighlight(function(e){if(e&&e.parentNode){var n=document.createElement("table");n.className="rainbow",n.setAttribute("data-language",e.getAttribute("data-language"));var a=e.getAttribute("data-line");a||(a=1);for(var r=t(e),i=0;i<r.length;i++){var l=r[i],o=i+Number(a),d=n.insertRow(-1);d.className="line line-"+o;var s=d.insertCell(-1);s.className="line-number",s.setAttribute("data-line-number",o);var u=d.insertCell(-1);u.className="line-code",""===l&&(l="\n"),u.innerHTML=l}var c="pre"===e.nodeName.toLowerCase()?e:e.parentNode;c.innerHTML="",c.appendChild(n)}})}(window.Rainbow));